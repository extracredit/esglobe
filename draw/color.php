<script language="JavaScript">

var xcol0=0;
var ycol0=0;
tab=[
[   0.00000,   -0.00000,   15.00000,    0.00000,    0.00000],
[   1.73205,    0.00000,   15.00000,    3.00000,    0.00000],
[   3.46410,    0.00000,   15.00000,    6.00000,    0.00000],
[   5.19615,    0.00000,   15.00000,    9.00000,    0.00000],
[   6.92820,    0.00000,   15.00000,   12.00000,    0.00000],
[   8.66025,    0.00000,   15.00000,   15.00000,    0.00000],
[   9.52628,   -1.50000,   12.00000,   15.00000,    0.00000],
[  10.39230,   -3.00000,    9.00000,   15.00000,    0.00000],
[  11.25833,   -4.50000,    6.00000,   15.00000,    0.00000],
[  12.12436,   -6.00000,    3.00000,   15.00000,    0.00000],
[  12.99038,   -7.50000,    0.00000,   15.00000,    0.00000],
[  12.12436,   -9.00000,    0.00000,   15.00000,    3.00000],
[  11.25833,  -10.50000,    0.00000,   15.00000,    6.00000],
[  10.39230,  -12.00000,    0.00000,   15.00000,    9.00000],
[   9.52628,  -13.50000,    0.00000,   15.00000,   12.00000],
[   8.66025,  -15.00000,    0.00000,   15.00000,   15.00000],
[   6.92820,  -15.00000,    0.00000,   12.00000,   15.00000],
[   5.19615,  -15.00000,    0.00000,    9.00000,   15.00000],
[   3.46410,  -15.00000,    0.00000,    6.00000,   15.00000],
[   1.73205,  -15.00000,    0.00000,    3.00000,   15.00000],
[   0.00000,  -15.00000,    0.00000,    0.00000,   15.00000],
[  -0.86603,  -13.50000,    3.00000,    0.00000,   15.00000],
[  -1.73205,  -12.00000,    6.00000,    0.00000,   15.00000],
[  -2.59808,  -10.50000,    9.00000,    0.00000,   15.00000],
[  -3.46410,   -9.00000,   12.00000,    0.00000,   15.00000],
[  -4.33013,   -7.50000,   15.00000,    0.00000,   15.00000],
[  -3.46410,   -6.00000,   15.00000,    0.00000,   12.00000],
[  -2.59808,   -4.50000,   15.00000,    0.00000,    9.00000],
[  -1.73205,   -3.00000,   15.00000,    0.00000,    6.00000],
[  -0.86603,   -1.50000,   15.00000,    0.00000,    3.00000],
[   0.86603,   -1.50000,   15.00000,    3.00000,    3.00000],
[   2.59808,   -1.50000,   15.00000,    6.00000,    3.00000],
[   4.33013,   -1.50000,   15.00000,    9.00000,    3.00000],
[   6.06218,   -1.50000,   15.00000,   12.00000,    3.00000],
[   7.79423,   -1.50000,   15.00000,   15.00000,    3.00000],
[   8.66025,   -3.00000,   12.00000,   15.00000,    3.00000],
[   9.52628,   -4.50000,    9.00000,   15.00000,    3.00000],
[  10.39230,   -6.00000,    6.00000,   15.00000,    3.00000],
[  11.25833,   -7.50000,    3.00000,   15.00000,    3.00000],
[  10.39230,   -9.00000,    3.00000,   15.00000,    6.00000],
[   9.52628,  -10.50000,    3.00000,   15.00000,    9.00000],
[   8.66025,  -12.00000,    3.00000,   15.00000,   12.00000],
[   7.79423,  -13.50000,    3.00000,   15.00000,   15.00000],
[   6.06218,  -13.50000,    3.00000,   12.00000,   15.00000],
[   4.33013,  -13.50000,    3.00000,    9.00000,   15.00000],
[   2.59808,  -13.50000,    3.00000,    6.00000,   15.00000],
[   0.86603,  -13.50000,    3.00000,    3.00000,   15.00000],
[  -0.00000,  -12.00000,    6.00000,    3.00000,   15.00000],
[  -0.86603,  -10.50000,    9.00000,    3.00000,   15.00000],
[  -1.73205,   -9.00000,   12.00000,    3.00000,   15.00000],
[  -2.59808,   -7.50000,   15.00000,    3.00000,   15.00000],
[  -1.73205,   -6.00000,   15.00000,    3.00000,   12.00000],
[  -0.86603,   -4.50000,   15.00000,    3.00000,    9.00000],
[  -0.00000,   -3.00000,   15.00000,    3.00000,    6.00000],
[   1.73205,   -3.00000,   15.00000,    6.00000,    6.00000],
[   3.46410,   -3.00000,   15.00000,    9.00000,    6.00000],
[   5.19615,   -3.00000,   15.00000,   12.00000,    6.00000],
[   6.92820,   -3.00000,   15.00000,   15.00000,    6.00000],
[   7.79423,   -4.50000,   12.00000,   15.00000,    6.00000],
[   8.66025,   -6.00000,    9.00000,   15.00000,    6.00000],
[   9.52628,   -7.50000,    6.00000,   15.00000,    6.00000],
[   8.66025,   -9.00000,    6.00000,   15.00000,    9.00000],
[   7.79423,  -10.50000,    6.00000,   15.00000,   12.00000],
[   6.92820,  -12.00000,    6.00000,   15.00000,   15.00000],
[   5.19615,  -12.00000,    6.00000,   12.00000,   15.00000],
[   3.46410,  -12.00000,    6.00000,    9.00000,   15.00000],
[   1.73205,  -12.00000,    6.00000,    6.00000,   15.00000],
[   0.86603,  -10.50000,    9.00000,    6.00000,   15.00000],
[   0.00000,   -9.00000,   12.00000,    6.00000,   15.00000],
[  -0.86603,   -7.50000,   15.00000,    6.00000,   15.00000],
[   0.00000,   -6.00000,   15.00000,    6.00000,   12.00000],
[   0.86603,   -4.50000,   15.00000,    6.00000,    9.00000],
[   2.59808,   -4.50000,   15.00000,    9.00000,    9.00000],
[   4.33013,   -4.50000,   15.00000,   12.00000,    9.00000],
[   6.06218,   -4.50000,   15.00000,   15.00000,    9.00000],
[   6.92820,   -6.00000,   12.00000,   15.00000,    9.00000],
[   7.79423,   -7.50000,    9.00000,   15.00000,    9.00000],
[   6.92820,   -9.00000,    9.00000,   15.00000,   12.00000],
[   6.06218,  -10.50000,    9.00000,   15.00000,   15.00000],
[   4.33013,  -10.50000,    9.00000,   12.00000,   15.00000],
[   2.59808,  -10.50000,    9.00000,    9.00000,   15.00000],
[   1.73205,   -9.00000,   12.00000,    9.00000,   15.00000],
[   0.86603,   -7.50000,   15.00000,    9.00000,   15.00000],
[   1.73205,   -6.00000,   15.00000,    9.00000,   12.00000],
[   3.46410,   -6.00000,   15.00000,   12.00000,   12.00000],
[   5.19615,   -6.00000,   15.00000,   15.00000,   12.00000],
[   6.06218,   -7.50000,   12.00000,   15.00000,   12.00000],
[   5.19615,   -9.00000,   12.00000,   15.00000,   15.00000],
[   3.46410,   -9.00000,   12.00000,   12.00000,   15.00000],
[   2.59808,   -7.50000,   15.00000,   12.00000,   15.00000],
[   4.33013,   -7.50000,   15.00000,   15.00000,   15.00000],
];
hex="0123456789abcdef";
hexsub=["000000","322110","654210","975420","ca7520","fc9630"]
var canvascol;
var ctxcol;
var curcol=["#00f","#00c","#009","#006","003","#000"];

function colorinit(){
    xcol0=document.getElementById("pointer_div").offsetLeft;
    ycol0=document.getElementById("pointer_div").offsetTop;
    canvascol=document.getElementById("darker");
    ctxcol=canvascol.getContext("2d");
    dark(0,0,15/3);
}

function dark(r,g,b){
    for(n=0;n<6;n++){
        fs="#"+hexsub[r][n]+hexsub[g][n]+hexsub[b][n];
	ctxcol.fillStyle=fs;
	ctxcol.fillRect(0,50*n,50,50*n+50);
        curcol[n]=fs;
//	document.getElementById("l"+n).innerHTML=fs;
    };
}

function point_it(event){
    pos_x = event.offsetX?(event.offsetX):event.pageX-xcol0;
    if(pos_x>350)return;
    pos_y = event.offsetY?(event.offsetY):event.pageY-ycol0;
    x=pos_x*0.056873-5.2530;
    y=(301-pos_y)*0.056667-16;
    v=10000;
    j=0;
    for(i=0;i<91;i++){
	t=tab[i];
	if((x-t[0])*(x-t[0])+(y-t[1])*(y-t[1])<v){
	    v=(x-t[0])*(x-t[0])+(y-t[1])*(y-t[1]);
	    j=i;
	};
    };
    t=tab[j];
    colr="#"+hex[t[2]]+hex[t[3]]+hex[t[4]];
//    document.getElementById('colr').value = colr;
    dark(t[2]/3,t[3]/3,t[4]/3);
}

function setcolor2(event){
    n=Math.floor((event.pageY-ycol0)/50);
//    document.getElementById('numcol').innerHTML=curcol[n];
//    setcolor(document.getElementById('numcol').innerHTML);
    setcolor(curcol[n]);
    modal(null);
    return false;
}

</script>
    <h2>Click on a hexagon to see darker versions of the color; click on a square to choose the one you want.</h2>

<p>
<div id="pointer_div" onclick="point_it(event)" style = "background-image:url('cp.png');width:336px;height:301px;">

<canvas id="darker" width="50" height="300"
style="position:relative;left:400px" onclick="setcolor2(event)"></canvas>
</div>
</p>

<!--
<p>
<button onclick="setcolor(document.getElementById('numcol').innerHTML);modal(null)">OK</button>
</p>
-->
